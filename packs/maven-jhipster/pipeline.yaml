extends:
  file: ../maven/pipeline.yaml
agent:
  label: jenkins-maven
  image: maven
  container: maven
pipelines:
  release:
    pipeline:
      agent:
        image:
          maven
      stages:
      - name: build
        steps:
        - sh: mvn clean deploy
          name: mvn-deploy
        options:
          containerOptions:
            resources:
              limits:
                cpu: 1.0
                memory: 2048Mi
              requests:
                cpu: 0.1
                memory: 256Mi
